<nav class="nav-container">
    <a href="{{ '/' | url }}">
        <div class="logo">
            <img src="{{businessInfo.businessLogo}}" alt="Logo" class="h-16 w-16 mr-1">
            <div class="logo-text">{{businessInfo.businessName}}</div>
        </div>
    </a>

    <!-- Hamburger Menu  -->
    <div class="absolute right-6 hamburger-menu xl:hidden">
        <button id="menu-toggle" class="text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </div>

    <ul class="desktop-navbar hidden xl:flex">
        <li><a href="{{ '/' | url }}" class="desktop-elements">Home</a></li>
        <li><a href="{{ '/about/' | url }}" class="desktop-elements">About Us</a></li>

        <li class="relative group">
            <a href="{{ '/services/' | url }}" class="desktop-elements">Services</a>
            <ul class="desktop-dropdown">
                <li><a href="{{ '/services/plumbing-services' | url }}" class="desktop-dropdown-link">Plumbing
                        Services</a></li>
                <li><a href="{{ '/services/installation-services' | url }}" class="desktop-dropdown-link">Installation
                        Services</a>
                </li>
                <li><a href="{{ '/services/specialized-plumbing' | url }}" class="desktop-dropdown-link">Specialized
                        Plumbing
                        Services</a></li>
                <li><a href="{{ '/services/residential-services' | url }}" class="desktop-dropdown-link">Residential
                        Services</a>
                </li>
                <li><a href="{{ '/services/commercial-plumbing' | url }}" class="desktop-dropdown-link">Commercial
                        Plumbing
                        Services</a></li>
                <li><a href="{{ '/services/maintenance-services' | url }}" class="desktop-dropdown-link">Maintenance
                        Services</a>
                </li>
            </ul>
        </li>

        <li class="relative group">
            <a href="{{ '/service-areas/' | url }}" class="desktop-elements">Area Served</a>
            <ul class="desktop-dropdown">
                <li><a href="{{ '/service-areas/area1' | url }}" class="desktop-dropdown-link">New York Metro Area</a>
                </li>
                <li><a href="{{ '/service-areas/area2' | url }}" class="desktop-dropdown-link">Albany</a></li>
                <li><a href="{{ '/service-areas/area3' | url }}" class="desktop-dropdown-link">Yonkers</a></li>
                <li><a href="{{ '/service-areas/area4' | url }}" class="desktop-dropdown-link">Buffalo</a></li>
                <li><a href="{{ '/service-areas/area5' | url }}" class="desktop-dropdown-link">Syracuse</a></li>
                <li><a href="{{ '/service-areas/area6' | url }}" class="desktop-dropdown-link">Rochester</a></li>
            </ul>
        </li>

        <li><a href="{{ '/blogs/' | url }}" class="desktop-elements">Blog</a></li>
        <li><a href="{{ '/gallery/' | url }}" class="desktop-elements">Gallery</a></li>
        <li><a href="{{ '/contact/' | url }}" class="desktop-elements">Contact Us</a></li>
    </ul>

    <div class="flex items-center space-x-4 hidden xl:flex">
        <div class="contact-number">Call : {{businessInfo.businessPhone}}</div>
        <a href="{{ '/contact/' | url }}">
            <button class="btn-red p-3 text-base">Book Service</button>
        </a>
    </div>
</nav>

<!-- Mobile Dropdown Menu -->

<div id="dropdown-menu" class="mobile-dropdown hidden">
    <div class="dropdown-item"><a href="{{ '/' | url }}" class="dropdown-item mobile-dropdown-list">Home</a></div>
    <div class="dropdown-item"><a href="/about/" class="dropdown-item mobile-dropdown-list">About
            Us</a>
    </div>
    <div class="dropdown-item">
        <a href="{{ '/services/' | url }}" class="mobile-dropdown-list">Services <i class="fa-solid fa-arrow-down"
                style="color: #ffffff;"></i></a>
        <div class="ml-4 space-y-2 hidden" id="servicesDropdown">
            <a href="{{ '/services/plumbing-services' | url }}" class="block mobile-dropdown-list">Plumbing Services</a>
            <a href="{{ '/services/installation-services' | url }}" class="block mobile-dropdown-list">Installation
                Services</a>
            <a href="{{ '/services/specialized-plumbing' | url }}" class="block mobile-dropdown-list">Specialized
                Plumbing
                Services</a>
            <a href="{{ '/services/residential-services' | url }}" class="block mobile-dropdown-list">Residential
                Services</a>
            <a href="{{ '/services/commercial-plumbing' | url }}" class="block mobile-dropdown-list">Commercial Plumbing
                Services</a>
            <a href="{{ '/services/maintenance-services' | url }}" class="block mobile-dropdown-list">Maintenance
                Services</a>
        </div>
    </div>

    <div class="dropdown-item">
        <a href="{{ '/service-areas/' | url }}" class="mobile-dropdown-list">Area Served <i
                class="fa-solid fa-arrow-down" style="color: #ffffff;"></i></a>
        <div class="ml-4 space-y-2 hidden" id="areaServedDropdown">
            <a href="{{ '/service-areas/area1' | url }}" class="block mobile-dropdown-list">New York Metro Area</a>
            <a href="{{ '/service-areas/area2' | url }}" class="block mobile-dropdown-list">Albany</a>
            <a href="{{ '/service-areas/area3' | url }}" class="block mobile-dropdown-list">Yonkers</a>
            <a href="{{ '/service-areas/area4' | url }}" class="block mobile-dropdown-list">Buffalo</a>
            <a href="{{ '/service-areas/area5' | url }}" class="block mobile-dropdown-list">Syracuse</a>
            <a href="{{ '/service-areas/area6' | url }}" class="block mobile-dropdown-list">Rochester</a>
        </div>
    </div>

    <div class="dropdown-item"><a href="{{ '/blogs/' | url }}" class="dropdown-item mobile-dropdown-list">Blog</a></div>
    <div class="dropdown-item"><a href="{{ '/gallery/' | url }}" class="dropdown-item mobile-dropdown-list">Gallery</a>
    </div>
    <div class="dropdown-item"><a href="{{ '/contact/' | url }}" class="dropdown-item mobile-dropdown-list">Contact
            Us</a></div>

    <div class="flex mt-5">
        <a href="{{ '/contact/' | url }}">
            <button
                class="bg-red-700 text-white px-4 py-2 rounded transform transition duration-300 ease-in-out hover:bg-red-600 hover:scale-105 hover:shadow-lg">Book
                Service</button>
        </a>
    </div>
</div>


<script>

    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menu-toggle');
        const dropdownMenu = document.getElementById('dropdown-menu');

        if (menuToggle && dropdownMenu) {
            menuToggle.addEventListener('click', (event) => {
                event.stopPropagation();
                dropdownMenu.classList.toggle('hidden');
                dropdownMenu.classList.toggle('block');
            });

            document.addEventListener('click', (event) => {
                if (!dropdownMenu.contains(event.target) && event.target !== menuToggle) {
                    dropdownMenu.classList.add('hidden');
                    dropdownMenu.classList.remove('block');
                }
            });
        }

        document.querySelectorAll('.dropdown-item > a').forEach(link => {
            const dropdown = link.nextElementSibling;
            const arrowIcon = link.querySelector('i');

            if (arrowIcon && dropdown) {
                arrowIcon.addEventListener('click', (event) => {
                    event.preventDefault();
                    dropdown.classList.toggle('hidden');
                });
            }


            link.addEventListener('click', (event) => {
                if (event.target !== arrowIcon && dropdown) {
                    return;
                }
            });
        });
    });


</script>